{% extends 'nav.html' %}

{% block center %}

<div class="container_main" style="
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    width: 100%;
    min-height: 100vh;
    padding: 40px 5%;
">

    <div style="
        width: 100%;
        background-color: #23313e;
        border-radius: 20px;
        padding: 15px;
    ">
      <!-- Container externo com borda verde -->
      <div style="
            width: 100%;
            background-color: transparent;
            border: 2px solid #8CCE3B;
            border-radius: 20px;
            padding: 15px;
            position: relative;
        ">
      
          <!-- Grid de Cards -->
          <div style="
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 20px;
              width: 100%;
          ">
      
              {% for i in support %}
              <!-- Card individual -->
              <div style="
                  background-color: #374151;
                  border-radius: 12px;
                  padding: 20px;
                  position: relative;
                  min-height: 200px;
                  display: flex;
                  flex-direction: column;
              ">
                  <!-- Header do card -->
                  <div style="
                      display: flex;
                      align-items: center;
                      margin-bottom: 15px;
                  ">
                      <span style="
                          color: #8CCE3B;
                          font-size: 14px;
                          font-weight: 600;
                      ">De:</span>
                      <span style="
                          color: white;
                          font-size: 14px;
                          margin-left: 8px;
                      ">{{ i.usuario.nome }}</span>
                  </div>
                  <!-- Divisória -->
                  <div style="
                      width: 100%;
                      height: 1px;
                      background-color: #4b5563;
                      margin-bottom: 15px;
                  "></div>
                  <!-- Conteúdo/Descrição -->
                  <div style="
                      color: #d1d5db;
                      font-size: 13px;
                      line-height: 1.6;
                      flex-grow: 1;
                      overflow: hidden;
                      text-overflow: ellipsis;
                  ">
                      {{ i.descricao }}
                  </div>
                  <!-- Botão de ação no canto inferior direito -->
                  <div style="
                      position: absolute;
                      bottom: 15px;
                      right: 15px;
                  ">
                      <a href="{% url 'backlogs_remover' pk=i.id %}" style="
                          background-color: #374151;
                          width: 35px;
                          height: 35px;
                          border-radius: 8px;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          text-decoration: none;
                          border: 1px solid #4b5563;
                      ">
                          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="2">
                              <line x1="7" y1="17" x2="17" y2="7"></line>
                              <polyline points="7 7 17 7 17 17"></polyline>
                          </svg>
                      </a>
                  </div>
                  <!-- Informações adicionais (versão e data) -->
                  <div style="
                      margin-top: 10px;
                      padding-top: 10px;
                      border-top: 1px solid #4b5563;
                  ">
                      <div style="
                          display: flex;
                          justify-content: space-between;
                          font-size: 11px;
                          color: #6b7280;
                      ">
                          <span>{{ i.data_envio }}</span>
                      </div>
                  </div>
              </div>
              {% endfor %}
              <!-- Card vazio (repetir para completar grid) -->
              <div style="
                  background-color: #374151;
                  border-radius: 12px;
                  min-height: 200px;
                  opacity: 0.3;
              "></div>
              <div style="
                  background-color: #374151;
                  border-radius: 12px;
                  min-height: 200px;
                  opacity: 0.3;
              "></div>
              <div style="
                  background-color: #374151;
                  border-radius: 12px;
                  min-height: 200px;
                  opacity: 0.3;
              "></div>
          </div>
      </div>
    </div>

</div>

{% endblock %}